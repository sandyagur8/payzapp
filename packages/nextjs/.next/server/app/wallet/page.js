(()=>{var e={};e.id=3597,e.ids=[3597],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14752:e=>{"use strict";e.exports=require("pino-pretty")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},62748:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=n(50482),a=n(69108),r=n(62563),l=n.n(r),i=n(68300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);n.d(t,o);let d=["",{children:["wallet",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,57437)),"/home/sandyagur/Desktop/payzapp/packages/nextjs/app/wallet/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,47436)),"/home/sandyagur/Desktop/payzapp/packages/nextjs/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/home/sandyagur/Desktop/payzapp/packages/nextjs/app/wallet/page.tsx"],u="/wallet/page",p={require:n,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/wallet/page",pathname:"/wallet",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},32028:(e,t,n)=>{Promise.resolve().then(n.bind(n,72784))},83832:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});class s{constructor(e){this.kintoUrl="https://engen.kinto.xyz",this.appAddress=e,this.iframeId="kinto-sdk-iframe",this.modalId="kinto-sdk-modal"}async connect(){let e=document.getElementById(this.iframeId),t=document.getElementById(this.modalId);if(!e||!t){(e=document.createElement("iframe")).id="kinto-sdk-iframe",e.src=`${this.kintoUrl}/connect?appDomain=${encodeURIComponent(window.location.origin)}&appAddress=${this.appAddress}`,e.allow="publickey-credentials-get *",e.style.width="100%",e.style.height="100%",e.style.border="none",(t=document.createElement("div")).id="kinto-sdk-modal",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.backgroundColor="rgba(0, 0, 0, 0.5)",t.style.display="none",t.style.justifyContent="center",t.style.alignItems="center";let n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.backgroundColor="white",n.style.borderRadius="8px",n.style.overflow="hidden",n.appendChild(e),t.appendChild(n),document.body.appendChild(t)}return new Promise((e,n)=>{let s=a=>{a.origin===this.kintoUrl&&("KINTO_ACCOUNT_INFO"===a.data.type?(window.removeEventListener("message",s),e(a.data.accountInfo),t.style.display="none"):"KINTO_CONNECTION_ERROR"===a.data.type&&(window.removeEventListener("message",s),t.style.display="none",n(Error(a.data.error))))};window.addEventListener("message",s)})}async sendTransaction(e){if(0===e.length)return;let t=document.getElementById(this.iframeId),n=document.getElementById(this.modalId);if(t&&n)return n.style.display="flex",t?.contentWindow?.postMessage({type:"KINTO_SEND_TX",txs:e},this.kintoUrl),new Promise((e,t)=>{let s=a=>{a.origin===this.kintoUrl&&("KINTO_TX_SUCCESS"===a.data.type?(window.removeEventListener("message",s),e(a.data.hash),n.style.display="none"):"KINTO_TX_ERROR"===a.data.type&&(window.removeEventListener("message",s),t(Error(a.data.error)),n.style.display="none"))};window.addEventListener("message",s)})}async createNewWallet(){return new Promise((e,t)=>{let n=window.screen.width/2-200,s=window.screen.height/2-350;if(!window.open(`${this.kintoUrl}/onboarding?appDomain=${encodeURIComponent(window.location.origin)}`,"Kinto Onboarding",`width=400,height=700,left=${n},top=${s}`)){t(Error("Failed to open popup. Please allow popups for this site."));return}e()})}}let a=e=>new s(e)},45773:(e,t,n)=>{"use strict";n.d(t,{x:()=>s}),(0,n(67413).a)({id:7887,name:"Kinto",network:"kinto",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.kinto-rpc.com/"],webSocket:["wss://rpc.kinto.xyz/ws"]}},blockExplorers:{default:{name:"Explorer",url:"https://kintoscan.io"}}});let s=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidShortString",type:"error"},{inputs:[{internalType:"string",name:"str",type:"string"}],name:"StringTooLong",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},72784:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var s=n(95344),a=n(3729),r=n(53267),l=n.n(r),i=n(22254),o=n(83832),d=n(86615),c=n(76295),u=n(45773);let p="0x9A33eF90660321a8aeAfDca271d594d5b052E2DE";if(!p)throw Error("KINTO_APP_ADDRESS is not defined");let m=(0,o.O)(p),y=l()(async()=>{},{loadableGenerated:{modules:["/home/sandyagur/Desktop/payzapp/packages/nextjs/components/SendModal.tsx -> react-qr-scanner"]},ssr:!1});function x({onClose:e}){let[t,n]=(0,a.useState)(!0),[r,l]=(0,a.useState)(""),[o,p]=(0,a.useState)(""),[x,h]=(0,a.useState)(""),[f,b]=(0,a.useState)(!1),g=(0,i.useRouter)(),w=async n=>{if(n.preventDefault(),t&&r&&o)g.push(`/offlineTransaction?phoneNumber=${r}&amount=${o}`);else{let t="0x"==x.slice(0,2)?await fetch(`/api/user/get?walletAddress=${x}`):await fetch(`/api/user/get?phoneNumber=${x}`),n=await t.json(),s=(0,d.R)({abi:u.x,functionName:"transfer",args:[n.walletAddress,(0,c.f)(o)]});await m.connect(),m.sendTransaction([{to:`0x${"0x8208DFaEef51B4a8EaAe4d6Dbaa310F59F4881B2".slice(2)}`,data:s,value:BigInt(0)}]).then(e=>{console.log("Transaction successful, hash:",e)}).catch(e=>{console.error("Transaction failed:",e)}),console.log("Online transaction:",{walletAddress:x,amount:o}),e()}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Send Funds"}),s.jsx("div",{className:"mb-4",children:(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",className:"sr-only",checked:t,onChange:()=>n(!t)}),s.jsx("div",{className:`block w-14 h-8 rounded-full ${t?"bg-blue-400":"bg-gray-300"}`}),s.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition ${t?"":"transform translate-x-6"}`})]}),s.jsx("div",{className:"ml-3 text-gray-700 font-medium",children:t?"Offline Payment":"Online Payment"})]})}),f?(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx(y,{delay:300,onError:e=>{console.error(e)},onScan:e=>{e&&(h(e.text),b(!1))},style:{width:"100%"}}),s.jsx("button",{onClick:()=>b(!1),className:"mt-2 w-full bg-red-600 text-white px-4 py-2 rounded",children:"Cancel Scan"})]}):(0,s.jsxs)("form",{onSubmit:w,children:[t?(0,s.jsxs)(s.Fragment,{children:[s.jsx("input",{type:"tel",placeholder:"Phone Number",value:r,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border rounded mb-4",required:!0}),s.jsx("input",{type:"number",placeholder:"Amount",value:o,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border rounded mb-4",required:!0})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("input",{type:"text",placeholder:"Wallet Address or Phone Number",value:x,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border rounded mb-4",required:!0}),s.jsx("input",{type:"number",placeholder:"Amount",value:o,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border rounded mb-4",required:!0}),s.jsx("button",{type:"button",onClick:()=>b(!0),className:"w-full bg-gray-200 text-gray-800 px-4 py-2 rounded mb-4",children:"Scan QR Code"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:t?"Continue":"Send"})]})]})]})})}var h=n(18895);function f({onClose:e,walletAddress:t}){let[n,r]=(0,a.useState)("");return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Receive Funds"}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("input",{type:"number",placeholder:"Amount (optional)",value:n,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 border rounded mb-4"}),s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(h.tv,{value:t,size:200})}),s.jsx("p",{className:"text-center text-sm mb-2",children:"Scan this QR code to receive funds"}),s.jsx("p",{className:"text-center text-xs text-gray-500 break-all",children:t})]}),s.jsx("button",{onClick:e,className:"w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Close"})]})})}let b=({transactions:e})=>(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Transaction History"}),e.length>0?s.jsx("ul",{children:e.map(e=>s.jsx("li",{className:"border-b py-2 last:border-b-0",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium",children:e.type}),s.jsx("p",{className:"text-sm text-gray-600",children:"sent"===e.type?`To: ${e.to}`:`From: ${e.from}`})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:`font-medium ${"sent"===e.type?"text-red-600":"text-green-600"}`,children:["$",e.amount]}),s.jsx("p",{className:"text-sm text-gray-600",children:e.created_at})]})]})},e.id))}):s.jsx("p",{className:"text-gray-500",children:"No transactions to display."})]}),g=({wallet_connect:e})=>{let[t,n]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[d,c]=(0,a.useState)([]),[u,p]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{let t=await fetch(`/api/wallet/balance?walletAddres=${e.walletAddress}`);if(!t.ok)throw Error("Failed to fetch balance");let n=await t.json();o(n.balance);let s=await fetch(`/api/wallet/history?walletAddress=${e.walletAddress}`);if(!s.ok)throw Error("Failed to fetch transaction history");let a=await s.json();console.log({historyData:a}),c(a.transactions)}catch(e){console.error("Error fetching wallet data:",e)}finally{p(!1)}})()},[e.walletAddress]),u)?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-xl font-semibold",children:"Loading wallet data..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[(0,s.jsxs)("main",{className:"flex-grow container mx-auto px-4 py-8",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold mb-4",children:["Welcome, ",e.name]}),(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Wallet Balance"}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["$",null!==i?i.toFixed(2):"00.00"]})]}),(0,s.jsxs)("div",{className:"flex space-x-4 mb-6",children:[s.jsx("button",{onClick:()=>n(!0),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Send Funds"}),s.jsx("button",{onClick:()=>l(!0),className:"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Receive Funds"})]}),s.jsx(b,{transactions:d})]}),t&&s.jsx(x,{onClose:()=>n(!1)}),r&&s.jsx(f,{walletAddress:e.walletAddress,onClose:()=>l(!1)})]})};function w({onClose:e}){return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"XMTP Alerts"}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:[{id:1,title:"New Event: Blockchain Conference",description:"Join us for the annual blockchain conference in your area!"},{id:2,title:"Special Offer: 20% off on crypto purchases",description:"Limited time offer for all merchant wallet users."},{id:3,title:"Security Update",description:"Important security update for your merchant wallet. Please update your app."}].map(e=>(0,s.jsxs)("div",{className:"mb-4 p-4 bg-gray-100 rounded",children:[s.jsx("h3",{className:"font-semibold",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description})]},e.id))}),s.jsx("button",{onClick:e,className:"mt-4 w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Close"})]})})}let j=({wallet_connect:e})=>{let[t,n]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(0),d=e.walletAddress,[c,u]=(0,a.useState)([]);return(0,a.useEffect)(()=>{(async()=>{try{let t=await fetch(`/api/wallet/balance?walletAddres=${e.walletAddress}`);if(!t.ok)throw Error("Failed to fetch balance");let n=await t.json();o(n.balance);let s=await fetch(`/api/wallet/history?walletAddress=${e.walletAddress}`);if(!s.ok)throw Error("Failed to fetch transaction history");let a=await s.json();console.log({historyData:a}),u(a.transactions)}catch(e){console.error("Error fetching wallet data:",e)}finally{console.log("done")}})()},[e.walletAddress]),(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[(0,s.jsxs)("main",{className:"flex-grow container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Wallet Balance"}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["$",i.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Receive Payments"}),s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(h.tv,{value:d,size:200})}),s.jsx("p",{className:"text-center text-sm mb-2",children:"Scan this QR code to receive payments"}),s.jsx("p",{className:"text-center text-xs text-gray-500 break-all",children:d})]}),(0,s.jsxs)("div",{className:"flex space-x-4 mb-6",children:[s.jsx("button",{onClick:()=>n(!0),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Send"}),s.jsx("button",{className:"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Attest"})]}),s.jsx(b,{transactions:c}),(0,s.jsxs)("div",{className:"flex space-x-4 mt-6",children:[s.jsx("button",{className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700",children:"Link with HW"}),s.jsx("button",{onClick:()=>l(!0),className:"flex-1 bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700",children:"XMTP Alerts"})]})]}),t&&s.jsx(x,{onClose:()=>n(!1)}),r&&s.jsx(w,{onClose:()=>l(!1)})]})};function v(){let[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(!0),[l,o]=(0,a.useState)(null),d=(0,i.useSearchParams)();return((0,a.useEffect)(()=>{let e=async e=>!!e.isMerchant&&e.isMerchant;(async()=>{r(!0);try{let n=d.get("accountInfo");if(n)try{let s=JSON.parse(decodeURIComponent(n)),a=await fetch(`/api/user/get?walletAddress=${s}`);if(console.log({response:a}),!a.ok)throw Error("Failed to fetch user type");let r=await a.json();t(await e(r)),o(r)}catch(e){console.error("Failed to parse account info or fetch user type:",e)}else console.error("No account info found in URL parameters")}catch(e){console.error("Error checking user type:",e)}finally{r(!1)}})()},[d]),!l||n)?s.jsx("div",{children:"Loading..."}):e?s.jsx(j,{wallet_connect:l}):s.jsx(g,{wallet_connect:l})}},53267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let s=n(39694);n(3729);let a=s._(n(60546));function r(e){return{default:(null==e?void 0:e.default)||e}}function l(e,t){let n=a.default,s={loading:e=>{let{error:t,isLoading:n,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e),Object.assign(s,t);let l=s.loader;return n({...s,loader:()=>null!=l?l().then(r):Promise.resolve(r(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},91868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NoSSR",{enumerable:!0,get:function(){return a}});let s=n(61462);function a(e){let{children:t}=e;return(0,s.throwWithNoSSR)(),t}},60546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let s=n(39694)._(n(3729)),a=n(91868),r=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function n(e){let n=t.loading,r=s.default.createElement(n,{isLoading:!0,pastDelay:!0,error:null}),l=t.ssr?s.default.Fragment:a.NoSSR,i=t.lazy;return s.default.createElement(s.default.Suspense,{fallback:r},s.default.createElement(l,null,s.default.createElement(i,e)))}return t.lazy=s.default.lazy(t.loader),n.displayName="LoadableComponent",n}},57437:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$$typeof:()=>r,__esModule:()=>a,default:()=>l});let s=(0,n(86843).createProxy)(String.raw`/home/sandyagur/Desktop/payzapp/packages/nextjs/app/wallet/page.tsx`),{__esModule:a,$$typeof:r}=s,l=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[1638,1658,7878],()=>n(62748));module.exports=s})();