(()=>{var e={};e.id=4281,e.ids=[4281],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14752:e=>{"use strict";e.exports=require("pino-pretty")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},48142:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>p,routeModule:()=>m,tree:()=>d});var r=s(50482),n=s(69108),i=s(62563),o=s.n(i),a=s(68300),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let d=["",{children:["signin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,80685)),"/home/sandyagur/Desktop/payzapp/packages/nextjs/app/signin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,47436)),"/home/sandyagur/Desktop/payzapp/packages/nextjs/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],p=["/home/sandyagur/Desktop/payzapp/packages/nextjs/app/signin/page.tsx"],c="/signin/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/signin/page",pathname:"/signin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7041:(e,t,s)=>{Promise.resolve().then(s.bind(s,71727))},83832:(e,t,s)=>{"use strict";s.d(t,{O:()=>n});class r{constructor(e){this.kintoUrl="https://engen.kinto.xyz",this.appAddress=e,this.iframeId="kinto-sdk-iframe",this.modalId="kinto-sdk-modal"}async connect(){let e=document.getElementById(this.iframeId),t=document.getElementById(this.modalId);if(!e||!t){(e=document.createElement("iframe")).id="kinto-sdk-iframe",e.src=`${this.kintoUrl}/connect?appDomain=${encodeURIComponent(window.location.origin)}&appAddress=${this.appAddress}`,e.allow="publickey-credentials-get *",e.style.width="100%",e.style.height="100%",e.style.border="none",(t=document.createElement("div")).id="kinto-sdk-modal",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.backgroundColor="rgba(0, 0, 0, 0.5)",t.style.display="none",t.style.justifyContent="center",t.style.alignItems="center";let s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.backgroundColor="white",s.style.borderRadius="8px",s.style.overflow="hidden",s.appendChild(e),t.appendChild(s),document.body.appendChild(t)}return new Promise((e,s)=>{let r=n=>{n.origin===this.kintoUrl&&("KINTO_ACCOUNT_INFO"===n.data.type?(window.removeEventListener("message",r),e(n.data.accountInfo),t.style.display="none"):"KINTO_CONNECTION_ERROR"===n.data.type&&(window.removeEventListener("message",r),t.style.display="none",s(Error(n.data.error))))};window.addEventListener("message",r)})}async sendTransaction(e){if(0===e.length)return;let t=document.getElementById(this.iframeId),s=document.getElementById(this.modalId);if(t&&s)return s.style.display="flex",t?.contentWindow?.postMessage({type:"KINTO_SEND_TX",txs:e},this.kintoUrl),new Promise((e,t)=>{let r=n=>{n.origin===this.kintoUrl&&("KINTO_TX_SUCCESS"===n.data.type?(window.removeEventListener("message",r),e(n.data.hash),s.style.display="none"):"KINTO_TX_ERROR"===n.data.type&&(window.removeEventListener("message",r),t(Error(n.data.error)),s.style.display="none"))};window.addEventListener("message",r)})}async createNewWallet(){return new Promise((e,t)=>{let s=window.screen.width/2-200,r=window.screen.height/2-350;if(!window.open(`${this.kintoUrl}/onboarding?appDomain=${encodeURIComponent(window.location.origin)}`,"Kinto Onboarding",`width=400,height=700,left=${s},top=${r}`)){t(Error("Failed to open popup. Please allow popups for this site."));return}e()})}}let n=e=>new r(e)},71727:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(95344),n=s(22254),i=s(83832);function o(){let e="0x9A33eF90660321a8aeAfDca271d594d5b052E2DE";if(!e)throw Error("NEXT_PUBLIC_KINTO_APP_ADDRESS is not defined");let t=(0,i.O)(e),s=(0,n.useRouter)(),o=async()=>{console.log("Button clicked");try{await t.createNewWallet();let e=await t.connect();console.log("Connected account info:",e);let r=encodeURIComponent(JSON.stringify(e.walletAddress)),n=`/wallet?accountInfo=${r}`;console.log("Redirecting to:",n),s.push(n)}catch(e){console.error("Failed to connect:",e)}};return r.jsx("div",{className:"min-h-screen flex flex-col",children:r.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:r.jsx("div",{className:"max-w-md mx-auto",children:r.jsx("button",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700",onClick:o,children:"Sign in using Kinto Wallet"})})})})}},80685:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});let r=(0,s(86843).createProxy)(String.raw`/home/sandyagur/Desktop/payzapp/packages/nextjs/app/signin/page.tsx`),{__esModule:n,$$typeof:i}=r,o=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[1638,1658,7878],()=>s(48142));module.exports=r})();